<!DOCTYPE html>
<html>
	<head>
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<meta charset="utf-8" />
		<link rel="stylesheet" type="text/css" href="../article.css" />
		<title>UML图的问题在哪里？</title>
	</head>
<body>
<h1>UML图的问题在哪里？</h1>

<p>UML是经常被软件工程的讲师们谈及起的一个话题。在利物浦学习Year 2的CS课程的同学需要完成Software Engineering І（软件工程І）。其中该课的一个重点，就是教学生UML。但偏偏这门课的老师就讲不清楚到底为什么要用UML图，只是说UML在设计阶段有用。作为图，UML当然能在设计过程中起到一个视觉上的辅助作用，可同时几乎所有的图也都有类似的（从视觉实现达辅助设计）效果，这并不能算是UML的一个优势，只能说是它继承了图的性质。</p>

<p>那我们到底为什么要用UML图？我开始想，用UML图可能有这么两个原因：</p>

<ul>
	<li>作为通用语言，方便与其他程序员交流模型</li>
	<li>UML图能够自动生成软件模型（即UML图能转换为代码）</li>
</ul>

<p>至于网上有人说UML是很好的思考工具，我认为这种说法仅仅对个人而言有意义，并不是对团队的所有人来说都是成立的。</p>

<p>用UML图的第一个原因很好理解：UML图制定了一系列的标准，似乎正好是提供给了程序员们一个通用的语言。然而，UML图的学习曲线并不平坦，我作为这门课的学生，怎么说也花了一个学期去学习怎么使用UML图了，而一个学期后却还是用的不太流利。当然，我的情况并不代表所有人的情况，但我可以从另外一个角度说明UML学习曲线的问题：当你需要通过一本超过200页的书来教授如何使用一套图形符号的时候，他的学习曲线就不比新手入门像Java这样的编程语言了轻松多少了。不平坦的学习曲线使得普及UML变得困难。UML并不像编程语言那样是编写程序的必经途径，这也使得普及他的难度无法和编程语言相提并论，那就更别提如何在软件工程中实用，成为程序员们共通的语言了。</p>

<p>好了，现在来谈谈第二个问题，UML是否能够自动生成软件模型？我曾经发邮件问过这位讲师：当我分析完信息得到这个UML模型后，是不是有什么通用的模式可以把UML转换成代码？然而这个问题没能从他那得到一个回复。后来我得知，虽然并不是所有的UML图都可以转换，但将UML的类图（UML Class Diagram）转换成代码这个功能却早就实现了（比如<a href="https://www.visual-paradigm.com/features/code-engineering-tools/" title="Visual Paradigm关于该功能的介绍">Visual Paradigm</a>就提供了这个功能）。可是，当你仔细观察类图，你会发现UML的类图只不过是Java程序的类的一个缩写，给他们画几个箭头来描述它们之间的关系罢了，也因此，从Java程序转换成UML类图也是可行的，这并不是什么复杂的工作。</p>

<figure><img src="DraggedImage.png" alt="一个样例类图" title="UML图"/><figcaption>一个样例类图</figcaption></figure>

<p>主要问题在于，类图通常并不是我们建模初最好用的模型（建模初用的模型一般都是方便你思考问题而用的模型）。在更多的情况下，对信息进行建模的时候，使用所谓“面向对象思维”的类图并不见得是什么好的建模方案。比如，当你描述“从冰箱里拿出食物”这一过程（程序）的时候，你可以轻松把整个过程分为打开冰箱，拿出食物，关上冰箱这三步。在C语言里，程序员要写的也无非就是就是表示这三步的三个函数：<code>open_fridge_door</code>, <code>take_food</code>及<code>close_fridge_door</code>。倘若用类图来表述，就得把这三个步骤变成某个叫“冰箱”的对象的三个方法（method），可想而知这种硬塞模型的做法是多么蹩脚！用类图所用的面向对象的概念解释，这三个方法是“冰箱”对象的三个“行为（behavior）”。可现实中冰箱自己又怎么会“打开冰箱”，“拿出食物”，“关上冰箱”呢？面向对象编程所宣称的这三个方法是冰箱的行为这种说法根本没法成立！事实上，类图模型做的只不过是把相关的函数按“类”聚集在一起，放在一个叫“对象”的容器里罢了。</p>

<p>我想你应该明白为什么建模初使用类图是一个多不自然的做法了。你可能想，UML还有其他好几种图啊，为什么不用其他的图呢，比如活动图（Activity Diagram），就很合乎前面开冰箱例子的要求啊？你当然可以用，但是回过头来，这些图你没法自动直接把你使用的图自动转换成代码，那你用UML辛辛苦苦画出来那个模型究竟有什么意义？用别的图难道不是一样能做到用UML图能做到的事情（作用来分析信息之间关系的建模）吗？普普通通的流程图早就可以做到了，UML图并没有带来什么优势，反而加深了使用者的理解难度。</p>

<p>在我眼里，UML图已经失去了它能够被使用的意义，只能留于一种形式存在。事到如今，UML图对软件开发又剩下多少意义呢？现实中的软件行业会告诉你的……</p>

<p>感兴趣UML在业界的情况的，可以看看<a href="https://news.ycombinator.com/item?id=10379125" title="Hacker News关于UML的讨论">Hackers News上的讨论</a>。</p>

</body>
</html>

